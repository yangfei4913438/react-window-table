import{r as u}from"./index-cdf295ea.js";function y(e,r){var t=u.useRef(null),n=u.useRef(null);n.current=r;var i=u.useRef(null);u.useEffect(function(){f()});var f=u.useCallback(function(){var c=i.current,a=n.current,o=c||(a?a instanceof Element?a:a.current:null);t.current&&t.current.element===o&&t.current.subscriber===e||(t.current&&t.current.cleanup&&t.current.cleanup(),t.current={element:o,subscriber:e,cleanup:o?e(o):void 0})},[e]);return u.useEffect(function(){return function(){t.current&&t.current.cleanup&&(t.current.cleanup(),t.current=null)}},[]),u.useCallback(function(c){i.current=c,f()},[f])}function _(e,r,t){return e[r]?e[r][0]?e[r][0][t]:e[r][t]:r==="contentBoxSize"?e.contentRect[t==="inlineSize"?"width":"height"]:void 0}function S(e){e===void 0&&(e={});var r=e.onResize,t=u.useRef(void 0);t.current=r;var n=e.round||Math.round,i=u.useRef(),f=u.useState({width:void 0,height:void 0}),c=f[0],a=f[1],o=u.useRef(!1);u.useEffect(function(){return o.current=!1,function(){o.current=!0}},[]);var l=u.useRef({width:void 0,height:void 0}),v=y(u.useCallback(function(b){return(!i.current||i.current.box!==e.box||i.current.round!==n)&&(i.current={box:e.box,round:n,instance:new ResizeObserver(function(z){var R=z[0],p=e.box==="border-box"?"borderBoxSize":e.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",O=_(R,p,"inlineSize"),g=_(R,p,"blockSize"),s=O?n(O):void 0,d=g?n(g):void 0;if(l.current.width!==s||l.current.height!==d){var x={width:s,height:d};l.current.width=s,l.current.height=d,t.current?t.current(x):o.current||a(x)}})}),i.current.instance.observe(b,{box:e.box}),function(){i.current&&i.current.instance.unobserve(b)}},[e.box,n]),e.ref);return u.useMemo(function(){return{ref:v,width:c.width,height:c.height}},[v,c.width,c.height])}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},m.apply(this,arguments)}function j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,r){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h(e,r)}function P(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,h(e,r)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(e)}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}export{B as _,h as a,w as b,P as c,j as d,m as e,S as u};
//# sourceMappingURL=isNativeReflectConstruct-1da304ae.js.map
